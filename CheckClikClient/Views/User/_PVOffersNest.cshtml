@model Customer.Models.OffersDTO
@using Customer
@{
    int srno = 0;
    int srno2 = 0;
}
<link href="~/web-assets/font-icons/flaticon.css" rel="stylesheet" />
<style>
    .offer-images img {
        object-fit: cover;
        margin-top: 20px;
    }
</style>

<div class="manage-account text-center" style="padding: 20px 5px 20px 0px">
    @if (Model.ListOffers != null && Model.ListOffers.Count() > 0)
    {
        @*foreach (var item in Model.ListOffers)
        {
            <figure class="figure col"> 
                <i class="@item.IconClass figure-img img-fluid rounded"></i>
                <figcaption class="figure-caption">@item.NameEn</figcaption>
            </figure>
        }*@
        <div class="row">
        @foreach (var item in Model.ListOffers)
        {
            <div class="col-lg-4 col-md-4 col-12 col-sm-6 mb-md-4 mb-xl-0">
            <div class="banner-left-icon d-flex align-items-center wow fadeIn animated animated" style="visibility: visible; padding:5px;">
                            <div class="banner-icon">
                                <img src="/nest/imgs/theme/icons/icon-1.svg" alt="">
                            </div>
                            <div class="banner-text" style="color: #242424;"> 
                                <p style="color: #242424;">@item.NameEn</p>
                            </div>
                        </div>
                        </div>
                         
        }
        
        </div>
    }
    else
    { 
        <div class="row">
            <h4>No offers available</h4>
        </div>
    }

    @if (Model.ProductListOffers != null)
    {
        <div class="row">
        @foreach (var item in Model.ProductListOffers)
        {
            <div class="col-lg-4 col-md-4 col-12 col-sm-6 mb-md-4 mb-xl-0">
                <div class="banner-left-icon d-flex align-items-center wow fadeIn animated animated" style="visibility: visible; padding:5px;">
                            <div class="banner-icon">
                                <img src="@Model.ApiURL/Uploads/Products/@item.Image" alt="">
                            </div>
                            <div class="banner-text" style="color: #242424;"> 
                                <p style="color: #242424;">@item.ProductNameEn</p>
                            </div>
                </div>
            </div>
            
            @*<figure class="figure col">
                <img src="@Model.ApiURL/Uploads/Products/@item.Image" class="figure-img img-fluid rounded">
                <figcaption class="figure-caption">@item.ProductNameEn</figcaption>
            </figure>*@
        }
        </div>
    }
    @if (Model.ServiceListOffers != null)
    {
        <div class="row">
        @foreach (var item in Model.ServiceListOffers)
        {
            @*<figure class="figure col">
                <img src="@Model.ApiURL/Uploads/Products/@item.Image" class="figure-img img-fluid rounded">
                <figcaption class="figure-caption">@item.ProductNameEn</figcaption>
            </figure>*@
            <div class="col-lg-4 col-md-4 col-12 col-sm-6 mb-md-4 mb-xl-0">
                <div class="banner-left-icon d-flex align-items-center wow fadeIn animated animated" style="visibility: visible; padding:5px;">
                            <div class="banner-icon">
                                <img src="@Model.ApiURL/Uploads/Products/@item.Image" alt="">
                            </div>
                            <div class="banner-text" style="color: #242424;"> 
                                <p style="color: #242424;">@item.ProductNameEn</p>
                            </div>
                </div>
            </div>
        }
        </div>
    } 
</div>
<hr class="mg-ac-hr" />
<div class="row">
    <div class="col-md-7 border-right-divider">
        <div>
            <div class="d-flex justify-content-between align-items-center">
                <h5>Discover Stores</h5>
                <a href="#">See All</a>
            </div>
            <hr class="mg-ac-hr mt-1 mb-3" />
            <div class="manage-account text-center mb-4">
                @if (Model.listStores != null && Model.listStores.Count() > 0)
                {
                    foreach (var item in Model.listStores)
                    {
                        if (item.StoreType == 1)
                        {
                            <a href="~/@item.StoreEn.Replace(" ","-").ToLower()/b/@Customer.Utils.StringUtil.URLEncrypt(item.BranchId.ToString()).Replace("/","-")">
                                 
                                <figure class="figure col">
                                    <img src="@Model.ApiURL/Uploads/Stores/@item.BranchLogoImage" class="figure-img img-fluid rounded">
                                    <figcaption class="figure-caption">@item.StoreEn</figcaption>
                                </figure>
                            </a>
                        }
                        else
                        {
                            <a href="~/@item.StoreEn.Replace(" ","-").ToLower()/b/@Customer.Utils.StringUtil.URLEncrypt(item.BranchId.ToString()).Replace("/","-")">
                                <div class="col-md-3 col-sm-4 col-xs-6 fwidth">
                                    <div class="thumbnail">
                                        <img src="@Model.ApiURL/Uploads/Stores/@item.BranchLogoImage" width="100%" class="object-fit">
                                        <div class="caption">
                                            <h4>@item.StoreEn</h4>
                                            <h5><span><i class="far fa-star"></i> @item.Ratings</span> (@item.Reviews Reviews)  </h5> - @item.VisitCount Visited
                                        </div>
                                    </div>
                                </div>
                            </a>
                        }
                    }
                }
                else
                {
                    <h2 class="text-danger text-center">
                        No stores available
                    </h2>
                } 
            </div>  

            <div class="home-slide-cover mt-30">
                    <div class="hero-slider-1 style-4 dot-style-1 dot-style-1-position-1 slick-initialized slick-slider slick-dotted">
                        <div class="slick-list draggable">
                            <div class="slick-track" style="opacity: 1; width: 500px;"> 
                                @if (Model.listBanners != null)
                                {
                                    foreach (var item in Model.listBanners)
                                    {
                                 <div class="single-hero-slider single-animation-wrap slick-slide slick-current" style="background-image: url(&quot;@Model.ApiURL/Uploads/AdvOfr/@item.BannerImageEn&quot;); width: 500px; height: 250px; position: relative; left: 0px; top: 0px; z-index: 999; opacity: 1;" data-slick-index="1" aria-hidden="false" tabindex="0" role="tabpanel" id="slick-slide01" aria-describedby="slick-slide-control01">
                                 @*<div class="single-hero-slider single-animation-wrap slick-slide slick-current" style="background-image: url(&quot;/nest/imgs/slider/slider-2.png&quot;); width: 500px; position: relative; left: 0px; top: 0px; z-index: 999; opacity: 1;" data-slick-index="1" aria-hidden="false" tabindex="0" role="tabpanel" id="slick-slide01" aria-describedby="slick-slide-control01">*@
                                    <div class="slider-content">
                                         
                                    </div>
                                </div>
                                        @*<div class="item @if(srno2++ == 0){ <text>active </text>}">
                                            <img src="@Model.ApiURL/Uploads/AdvOfr/@item.BannerImageEn" style="width:100%;height: 200px" />
                                        </div>*@
                                    }
                                    if (Model.listBanners.Count == 0)
                                    {
                                        <div class="single-hero-slider single-animation-wrap slick-slide slick-current" style="border-radius:10px; background-image: url(&quot;@Model.ApiURL/Uploads/AdvOfr/15984576slide1.jpg&quot;); width: 500px; height: 250px; position: relative; left: 0px; top: 0px; z-index: 999; opacity: 1;" data-slick-index="1" aria-hidden="false" tabindex="0" role="tabpanel" id="slick-slide01" aria-describedby="slick-slide-control01">
                                        @*<div class="single-hero-slider single-animation-wrap slick-slide slick-current" style="background-image: url(&quot;/nest/imgs/slider/slider-2.png&quot;); width: 500px; position: relative; left: 0px; top: 0px; z-index: 999; opacity: 1;" data-slick-index="1" aria-hidden="false" tabindex="0" role="tabpanel" id="slick-slide01" aria-describedby="slick-slide-control01">*@
                                            <div class="slider-content">
                                         
                                            </div>
                                        </div>
                                        @*<div class="item @if(srno2++ == 0){ <text>active </text>}">
                                            <img src="@Model.ApiURL/Uploads/AdvOfr/15984576slide1.jpg" style="width:100%;height: 200px" />
                                        </div>*@ 
                                    }

                                }
                                
                            </div>
                         </div>
                        
                        <ul class="slick-dots" style="" role="tablist">
                            <li class="" role="presentation"><button type="button" role="tab" id="slick-slide-control00" aria-controls="slick-slide00" aria-label="1 of 2" tabindex="-1">1</button></li>
                            <li role="presentation" class="slick-active"><button type="button" role="tab" id="slick-slide-control01" aria-controls="slick-slide01" aria-label="2 of 2" tabindex="0" aria-selected="true">2</button></li>
                        </ul>
                    </div>
                    <div class="slider-arrow hero-slider-1-arrow"><span class="slider-btn slider-prev slick-arrow" style=""><i class="fi-rs-angle-left"></i></span><span class="slider-btn slider-next slick-arrow" style=""><i class="fi-rs-angle-right"></i></span></div>
                </div>



            @*<div id="myacc-ads">
                <div id="myCarousel" class="carousel slide offer-carousel" data-ride="carousel">
                    <ol class="carousel-indicators all-categories">
                        @if (Model.listBanners != null)
                        {
                            foreach (var item in Model.listBanners)
                            {
                                <li data-target="#carousel-example-generic"
                                    @if (srno == 0) { <text> class="active" </text> }
                                    data-slide-to="@srno++"></li>
                            }
                        }
                    </ol>
                    <div class="carousel-inner">
                        @if (Model.listBanners != null)
                        {
                            foreach (var item in Model.listBanners)
                            {
                                 
                                <div class="item @if(srno2++ == 0){ <text>active </text>}">
                                    <img src="@Model.ApiURL/Uploads/AdvOfr/@item.BannerImageEn" style="width:100%;height: 200px" />
                                </div>
                            }
                            if (Model.listBanners.Count == 0)
                            {

                                <div class="item @if(srno2++ == 0){ <text>active </text>}">
                                    <img src="@Model.ApiURL/Uploads/AdvOfr/15984576slide1.jpg" style="width:100%;height: 200px" />
                                </div> 
                            }

                        }
                    </div>

                    <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
                        <span class="fas fa-chevron-left" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
                        <span class="fas fa-chevron-right" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>*@
        </div>
    </div>
    @*Not Done Yet Because I dont have the scnerio how its looks like*@
    <div class="col-md-5">
         

        <div class="row">
            <div class="col-md-12">
                @*<div class="offers"> *@
                    <div class="home-slide-cover" hidden>
                            <div class="hero-slider-1 style-4 dot-style-1 dot-style-1-position-1">
                    @{
                        List<Customer.Models.OffersCDTO> lstOffersCDTO = new List<Customer.Models.OffersCDTO>();
                        lstOffersCDTO.Add(new Customer.Models.OffersCDTO() { StoreNameEn = "Store 1", NameEn = "Name 1", Price = 100, DiscountPrice = 80, Percentage = 20, BannerImageEn = "", MainCategoryNameEn = "main cat 1", SubCategoryNameEn = "sub cat 1" });
                        lstOffersCDTO.Add(new Customer.Models.OffersCDTO() { StoreNameEn = "Store 2", NameEn = "Name 2", Price = 200, DiscountPrice = 180, Percentage = 10, BannerImageEn = "", MainCategoryNameEn = "main cat 2", SubCategoryNameEn = "sub cat 2" });
                        var listOffers = lstOffersCDTO;//Model.ProductListOffers;
                    }
                    @if(listOffers != null && listOffers.Count() > 0)
                    {
                        foreach (var bracs in listOffers)
                        {

                            Customer.Models.ProductListDTO prod = new Customer.Models.ProductListDTO()
                            {
                                BranchId = (int)bracs.BranchId,
                                ProductNameEn = bracs.NameEn,
                                Id = bracs.InventoryId,
                                BranchSubCategoryId = (int)bracs.BranchSubCategoryId,

                            }; 
                             
                         
                                <div class="single-hero-slider single-animation-wrap" style="background-image: url(/nest/imgs/slider/slider-4.png)">
                                    <div class="slider-content">
                                        <h1 class="display-2 mb-40">
                                            Snacks box<br />
                                            daily save
                                        </h1>
                                        <p class="mb-65">Sign up for the daily newsletter</p>
                                        <form class="form-subcriber d-flex">
                                            <input type="email" placeholder="Your emaill address" />
                                            <button class="btn" type="submit">Subscribe</button>
                                        </form>
                                    </div>
                                </div>
                            



                                @*<div class="slide">
                                    <div class="thumbnail">
                                        <a href="~/@bracs.StoreNameEn.Replace(" ", "-").ToLower()/@bracs.MainCategoryNameEn.Replace(" ", "-").ToLower()/@bracs.SubCategoryNameEn.Replace(" ", "-").ToLower()/p"> 
                                            
                                            <img style="border-radius: 10px;" src="@Model.ApiURL/Uploads/AdvOfr/15984576slide1.jpg" class="main-img">
                                        </a>


                                    <div class="product-cart-wrap mb-30 wow animate__ animate__fadeIn animated mt-1" data-wow-delay=".3s" style="visibility: visible; animation-delay: 0.3s; animation-name: fadeIn; border-radious:5px;">
                                       <div class="product-content-wrap mt-3">
                                        
                                            <h2><a href="#">@bracs.NameEn</a></h2>
                                            <h4>@bracs.Percentage% Off</h4>
                                         
                                            <div class="product-card-bottom">
                                                <div class="product-price">
                                                    <span>SAR @bracs.DiscountPrice</span>
                                                    <span class="old-price">SAR @bracs.Price</span>
                                                </div> 
                                            </div>
                                        </div>
                                    </div>

                                    </div>
                                </div> *@
                        }
                    }
                    </div>
                            <div class="slider-arrow hero-slider-1-arrow"></div>
                        </div>
                @*</div>*@
                <div class="scrollbar" id="style-10" style="overflow:auto;"> 
                    @*@{
                        List<Customer.Models.OffersCDTO> lstOffersCDTO = new List<Customer.Models.OffersCDTO>();
                        lstOffersCDTO.Add(new Customer.Models.OffersCDTO() { StoreNameEn = "Store 1", NameEn = "Name 1", Price = 100, DiscountPrice = 80, Percentage = 20, BannerImageEn = "", MainCategoryNameEn = "main cat 1", SubCategoryNameEn = "sub cat 1" });
                        lstOffersCDTO.Add(new Customer.Models.OffersCDTO() { StoreNameEn = "Store 2", NameEn = "Name 2", Price = 200, DiscountPrice = 180, Percentage = 10, BannerImageEn = "", MainCategoryNameEn = "main cat 2", SubCategoryNameEn = "sub cat 2" });
                        var listOffers = lstOffersCDTO;//Model.ProductListOffers;
                    }*@
                    @if(listOffers != null && listOffers.Count() > 0)
                    {
                        foreach (var bracs in listOffers)
                        {

                            Customer.Models.ProductListDTO prod = new Customer.Models.ProductListDTO()
                            {
                                BranchId = (int)bracs.BranchId,
                                ProductNameEn = bracs.NameEn,
                                Id = bracs.InventoryId,
                                BranchSubCategoryId = (int)bracs.BranchSubCategoryId,

                            }; 
                                <div class="slide" style="margin-right:1px;">
                                    <div class="thumbnail">
                                        <a href="~/@bracs.StoreNameEn.Replace(" ", "-").ToLower()/@bracs.MainCategoryNameEn.Replace(" ", "-").ToLower()/@bracs.SubCategoryNameEn.Replace(" ", "-").ToLower()/p">@*/@SlugUtil.GenerateSlug(prod)*@
                                            @*<img src="@Model.ApiURL/Uploads/Products/@bracs.BannerImageEn" class="main-img">*@
                                            <img style="border-radius: 10px;" src="@Model.ApiURL/Uploads/AdvOfr/15984576slide1.jpg" class="main-img">
                                        </a>


                                    <div class="product-cart-wrap mb-30 wow animate__ animate__fadeIn animated mt-1" data-wow-delay=".3s" style="visibility: visible; animation-delay: 0.3s; animation-name: fadeIn; border-radious:5px;">
                                       <div class="product-content-wrap mt-3">
                                        
                                            <h2><a href="#">@bracs.NameEn</a></h2>
                                            <h4>@bracs.Percentage% Off</h4>
                                         
                                            <div class="product-card-bottom">
                                                <div class="product-price">
                                                    <span>SAR @bracs.DiscountPrice</span>
                                                    <span class="old-price">SAR @bracs.Price</span>
                                                </div>
                                                @*<div class="add-cart">
                                                    <a class="add" href="shop-cart.html"><i class="fi-rs-shopping-cart mr-5"></i>Add </a>
                                                </div>*@
                                            </div>
                                        </div>
                                    </div>

                                    </div>
                                </div> 
                        }
                    }

                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    (function ($) {
        var $myCarousel = $('#myCarousel'),
            $firstAnimatingElems = $myCarousel.find('.item:first').find("[data-animation ^= 'animated']");
        $myCarousel.carousel({
            interval: 4000,
            pause: "null"

        });
        $(".offers").slick({
            slidesToShow: 1,
            slidesToScroll: 1,
            autoplay: true,
            autoplaySpeed: 3500,
            arrows: true,
            dots: false,
            pauseOnHover: false,
            responsive: [{
                breakpoint: 1280,
                settings: {
                    slidesToShow: 4
                }
            }, {
                breakpoint: 1200,
                settings: {
                    slidesToShow: 3
                }
            }, {
                breakpoint: 992,
                settings: {
                    slidesToShow: 2
                }
            }, {
                breakpoint: 576,
                settings: {
                    slidesToShow: 1
                }
            }]
        });
    })(jQuery);
    
    //$(document).ready(function () {
    //    $(".store-offers-slide").slick({
    //        autoplay: true,
    //        autoplaySpeed: 2500,
    //        speed: 2000,
    //        fade: true,
    //        arrows: false,
    //        dots: false,
    //        pauseOnHover: false,
    //    });
    //});
</script>
